jQuery(function(t){t.checkFieldOnBackend=(e=>{if("object"!=typeof e)return!1;t.ajax({url:`${site_url}/check-field`,data:{fieldName:e.attr("name"),fieldData:e.val()},type:"POST",complete:t=>{if(200!==t.status)return!1;res=t.responseJSON,res.success?e.removeClass("field-error").addClass("field-valid"):e.addClass("field-error").removeClass("field-valid")}})}),t.validateField=(e=>{t.checkFieldOnBackend(e)}),t(document).on("blur","[checkField]",function(){let e=t(this);t.validateField(e)})}),jQuery(function(t){t(document).on("submit","[ajax-form]",function(e){e.preventDefault(),form=t(this),formData=new FormData(form[0]),t.ajax({type:"POST",data:formData,processData:!1,contentType:!1,url:`${site_url}/${form.attr("action")}`,beforeSend:()=>{t.writeInPopup("",siteLoader),t.openPopup(),form.find("input:submit, button").attr("disabled","disabled")},complete:e=>{form.find("input:submit, button").removeAttr("disabled");let a=200==e.status?e.responseJSON.title:"Ops!!";t.writeInPopup(a,e.responseJSON.content),200==e.status&&form[0].reset()}})})}),$=jQuery,$(document).on("click","[ajax-link]",function(t){t.preventDefault();let e=$(this).attr("ajax-link"),a=$(this).attr("href"),o=$(this).attr("ID");$.ajax({type:"POST",url:`${site_url}/ajax`,data:{module:a,callerID:o,data:e},beforeSend:()=>{$.writeInPopup("",siteLoader),$.openPopup()},complete:t=>{let e=200==t.status?t.responseJSON.title:"Ops!!";$.writeInPopup(e,t.responseJSON.content)}})}),$(document).on("click","[page-share]",function(t){t.preventDefault();var e=`${site_url}/${cardapio_url}`;const a={title:cardapio_name,url:e,text:""};navigator.share&&navigator.share(a)}),jQuery(function(){window.setTimeout(function(){$("[data-src]").each(function(t,e){$elem=$(this),$elem.attr("src",$elem.attr("data-src")),$elem.removeAttr("data-src")}),$("[data-background]").each(function(t,e){$elem=$(this),$elem.css("background-image",'url("'+$elem.attr("data-background")+'")'),$elem.removeAttr("data-background")}),$("[data-images]").each(function(t,e){$elem=$(this),imagens=$elem.attr("data-images").split("|"),$("body").append(`\n\t\t\t\t<style>\n\t\t\t\t\t${imagens[2]} { \n\t\t\t\t\t\tbackground-image: url("${imagens[0]}"); \n\t\t\t\t\t} \n\t\t\t\t\t@media (min-width: 768px) { \n\t\t\t\t\t\t${imagens[2]} { \n\t\t\t\t\t\t\tbackground-image: url("${imagens[1]}"); \n\t\t\t\t\t\t} \n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t`),$elem.removeAttr("data-images")})},400)});let isset=t=>void 0!==t;jQuery(function(t){t.loadModule=((e,a,o)=>{t.ajax({type:"POST",url:`${site_url}/ajax`,data:{module:e,content:a},complete:t=>{o.html(t.responseJSON.content)}})}),t("[load-module]").each(function(){let e=t(this).attr("load-module"),a=t(this).attr("module-options");t.loadModule(e,a,t(this)),t(this).removeAttr("load-module").removeAttr("module-options")})}),jQuery(function(t){jQuery.fn.putCursorAtEnd=function(){return this.each(function(){var e=t(this),a=this;if(e.is(":focus")||e.focus(),a.setSelectionRange){var o=2*e.val().length;setTimeout(function(){a.setSelectionRange(o,o)},1)}else e.val(e.val());this.scrollTop=999999})},t(document).on("keyup",'input[mask*="cpf"]',function(e){tecla=e.keyCode||e.which,valor=t(this).val(),tam=valor.length,(tecla>=96&&tecla<=105||tecla>=48&&tecla<=57||229==e.which)&&(4==tam&&t(this).val(valor.substr(0,3)+"."+valor.substr(3,2)),8==tam&&t(this).val(valor.substr(0,3)+"."+valor.substr(4,3)+"."+valor.substr(7,1)),12==tam&&t(this).val(valor.substr(0,3)+"."+valor.substr(4,3)+"."+valor.substr(8,3)+"-"+valor.substr(11,1))),tam>3&&t(this).putCursorAtEnd()}),t(document).on("keyup",'input[mask*="cel"]',function(e){tecla=e.keyCode||e.which,valor=t(this).val(),tam=valor.length,(tecla>=96&&tecla<=105||tecla>=48&&tecla<=57||229==e.which)&&tam<15&&(3==tam&&(t(this).val("("+valor.substr(0,2)+") "+valor.substr(2,1)),setTimeout(function(){t(this).focus()},50)),11==tam&&t(this).val("("+valor.substr(1,2)+") "+valor.substr(5,4)+"-"+valor.substr(9,2)),14==tam&&t(this).val("("+valor.substr(1,2)+") "+valor.substr(5,4)+valor.substr(10,1)+"-"+valor.substr(11,3))),t(this).focus(),valor=t(this).val(),t(this).val(""),t(this).val(valor),tam>3&&t(this).putCursorAtEnd()}),t(document).on("keyup",'input[mask*="date"]',function(e){tecla=e.keyCode||e.which,valor=t(this).val(),tam=valor.length,(tecla>=96&&tecla<=105||tecla>=48&&tecla<=57||229==e.which)&&(3==tam&&t(this).val(valor.substr(0,2)+"/"+valor.substr(2,1)),6==tam&&t(this).val(valor.substr(0,2)+"/"+valor.substr(3,2)+"/"+valor.substr(5,1))),t(this).focus(),valor=t(this).val(),t(this).val(""),t(this).val(valor),tam>3&&t(this).putCursorAtEnd()}),t(document).on("keyup",'[mask*="cep"]',function(e){tecla=e.keyCode||e.which,valor=t(this).val(),tam=valor.length,(tecla>=96&&tecla<=105||tecla>=48&&tecla<=57||229==e.which)&&6==tam&&t(this).val(valor.substr(0,5)+"-"+valor.substr(5,1)),t(this).focus(),valor=t(this).val(),t(this).val(""),t(this).val(valor),tam>3&&t(this).putCursorAtEnd()})}),jQuery(function(t){t.openModule=((e,a,o,s=!0,r=!1,l=!1)=>{t.ajax({type:"POST",url:`${site_url}/ajax`,data:{module:e,content:a},beforeSend:()=>{1==s&&(t.writeInPopup("",siteLoader),t.openPopup())},complete:e=>{r&&r.html(l),!0!==s?o.html(e.responseJSON.content):isset(e.responseJSON.content)?t.writeInPopup("",e.responseJSON.content):t.closePopup()}})}),t(document).on("click","[open-module]",function(e){e.preventDefault();let a=t(this).attr("href"),o=t(this).attr("open-module"),s=t(this).attr("show-popup"),r=t(this).attr("module-target");t(this).attr("loading-here")?(curHTML=t(this).html(),t(this).html(siteLoader),r=t(r||this),t.openModule(a,o,r,s,t(this),curHTML)):t.openModule(a,o,r,s)})});